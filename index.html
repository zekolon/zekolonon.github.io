<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="status-bar-container"></div>
  <script>
    // Dynamically load the shared status bar
    fetch('status-bar.html')
      .then(response => response.text())
      .then(html => {
        document.getElementById('status-bar-container').innerHTML = html;
      });
  </script>
   <div class="main-content" style="display: flex; flex-direction: row; align-items: flex-start;">
      <div style="flex: 1; display: flex; flex-direction: row; align-items: flex-start;">
  <img id="profile-pic" src="assets/Knights of Avarice.webp" alt="Profile Picture" class="profile-pic" style="width: 130px; height: 130px; border-radius: 50%; margin-right: 32px; object-fit: cover; box-shadow: 0 2px 8px #000a; cursor: pointer;" />
</div>
<style>
@keyframes explodeText {
  0% { opacity: 1; transform: scale(1) rotate(0deg) translate(0,0); filter: none; }
  60% { opacity: 1; filter: none; }
  100% {
    opacity: 0;
    filter: blur(8px) brightness(2);
    transform:
      scale(2.2)
      rotate(720deg)
      translate(
        calc(-200px + 400px * var(--rand-x)),
        calc(-120px + 240px * var(--rand-y))
      );
  }
}
.explode {
  animation: explodeText 1.1s cubic-bezier(0.68,-0.55,0.27,1.55) forwards;
}
</style>
<script>
// 7-click easter egg: explode all text
let clickCount = 0;
const profilePic = document.getElementById('profile-pic');
profilePic.addEventListener('click', function() {
  clickCount++;
  if (clickCount === 7) {
    // Select all text elements, profile pic, large image, and body background
    const textEls = document.querySelectorAll('h1, h2, h3, h4, h5, h6, p, span, a, .status-bar, .status-text, .status-right');
    textEls.forEach(el => {
      el.style.setProperty('--rand-x', Math.random());
      el.style.setProperty('--rand-y', Math.random());
      el.classList.add('explode');
    });
    // Profile picture
    profilePic.style.setProperty('--rand-x', Math.random());
    profilePic.style.setProperty('--rand-y', Math.random());
    profilePic.classList.add('explode');
    // Large image
    const bigImg = document.getElementById('corrupted-large-img');
    if (bigImg) {
      bigImg.style.setProperty('--rand-x', Math.random());
      bigImg.style.setProperty('--rand-y', Math.random());
      bigImg.classList.add('explode');
    }
    // After explosion, show iframe video overlay
    setTimeout(function() {
      let iframe = document.getElementById('explosion-iframe');
      if (!iframe) {
        iframe = document.createElement('iframe');
        iframe.id = 'explosion-iframe';
        iframe.src = 'https://www.youtube.com/embed/pnPqf0G1BfY?si=4H4aKOTEBZI-OKcU title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen>';
        iframe.allow = 'autoplay';
        iframe.style.position = 'fixed';
        iframe.style.top = '0';
        iframe.style.left = '0';
        iframe.style.width = '100vw';
        iframe.style.height = '100vh';
        iframe.style.border = 'none';
        iframe.style.zIndex = '20000';
        iframe.style.background = '#000';
        document.body.appendChild(iframe);
      }
    }, 1200);
  }
});
</script>
        <div style="display: flex; flex-direction: column; align-items: flex-start;">
          <h1 style="margin-bottom: 18px;">Welcome to My Website!</h1>
          <p style="text-align: center;">
            This website is where i post images relating to my hobbies and more!
          </p>
          <div class="hypno-links" style="justify-content: flex-start; flex-direction: column; align-items: flex-start; gap: 1em;">
            <a href="portfolio.html" class="hypno-link">Portfolio</a>
            <a href="Gallery.html" class="hypno-link">Gallery</a>
            <a href="Music.html" class="hypno-link">Music</a>
          </div>
        </div>
        <div style="flex: 0 0 auto; margin-left: 48px; display: flex; flex-direction: column; align-items: flex-start;">
          <img id="corrupted-large-img" src="assets/1743177732956.png" alt="Corrupted Dimension" style="max-width: 90vw; max-width: 400px; max-height: 480px; display: none; border-radius: 18px; box-shadow: 0 8px 32px #000a; margin-top: 8px; display: block;" />
        </div>
      </div>
    </div>
<script>
  // Pop-in effect for large image immediately, now inside main-content
  window.addEventListener('DOMContentLoaded', function() {
    var img = document.getElementById('corrupted-large-img');
    if (img) {
      img.style.display = 'block';
      img.classList.add('pop-in-img');
    }
  });
</script>
  <!-- Rain effect removed -->
    <div
      class="bottom-image-slot"
      style="
        position: fixed;
        right: 2vw;
        bottom: 2vh;
        z-index: 10001;
        display: flex;
        justify-content: flex-end;
        align-items: end;
        pointer-events: auto;
      "
    >
      <a href="Corrupted.html">
        <img
          src="assets/OIP__3_-removebg-preview.png"
          alt="Bottom Slot Image"
          style="
            max-width: 220px;
            max-height: 90px;
            object-fit: contain;
            box-shadow: 0 2px 8px #000a;
            border-radius: 8px;
          "
        />
      </a>
    </div>
  </body>
  <script>
    // Rain effect removed
  </script>
</html>
    <!-- Music Player -->
    <div
      id="music-player"
      style="
        position: fixed;
        left: 0;
        right: 0;
        bottom: 0;
        width: 100vw;
        background: #181818ee;
        color: #fff;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0.5em 1em;
        z-index: 9999;
        box-shadow: 0 -2px 12px #000a;
        font-family: inherit;
      "
    >
      <span
        id="song-title"
        style="
          margin-right: 1em;
          font-weight: bold;
          font-size: 1em;
          letter-spacing: 1px;
        "
        >Awesome Rap Beat by Jay Tholen</span
      >
      <audio
        id="audio-player"
        src="assets/Jay Tholen - Hypnospace Outlaw OST Vol. 2 - 23 Awesome Rap Beat.mp3"
        autoplay
        controls
        loop
        style="width: 300px"
      ></audio>
    </div>
    <script>
      // Rain effect
      const rainCanvas = document.getElementById("rain-canvas");
      function resizeRainCanvas() {
        rainCanvas.width = window.innerWidth;
        rainCanvas.height = window.innerHeight;
        rainCanvas.style.position = "fixed";
        rainCanvas.style.left = "0";
        rainCanvas.style.top = "0";
        rainCanvas.style.pointerEvents = "none";
        rainCanvas.style.zIndex = "9998";
      }
      resizeRainCanvas();
      window.addEventListener("resize", resizeRainCanvas);

      const ctx = rainCanvas.getContext("2d");
      const raindrops = [];
      const rainColor = "rgba(120,180,255,0.45)";
      const rainCount = 80;
      for (let i = 0; i < rainCount; i++) {
        raindrops.push({
          x: Math.random() * window.innerWidth,
          y: Math.random() * window.innerHeight,
          len: 10 + Math.random() * 18,
          speed: 3 + Math.random() * 4,
        });
      }
      function drawRain() {
        ctx.clearRect(0, 0, rainCanvas.width, rainCanvas.height);
        ctx.strokeStyle = rainColor;
        ctx.lineWidth = 1.2;
        ctx.lineCap = "round";
        for (let drop of raindrops) {
          ctx.beginPath();
          ctx.moveTo(drop.x, drop.y);
          ctx.lineTo(drop.x, drop.y + drop.len);
          ctx.stroke();
          drop.y += drop.speed;
          if (drop.y > window.innerHeight) {
            drop.x = Math.random() * window.innerWidth;
            drop.y = -drop.len;
            drop.len = 10 + Math.random() * 18;
            drop.speed = 3 + Math.random() * 4;
          }
        }
        requestAnimationFrame(drawRain);
      }
      drawRain();
      // Hide default cursor and show image following mouse
      const cursorImg = document.getElementById("custom-cursor");
      cursorImg.style.position = "fixed";
      cursorImg.style.pointerEvents = "none";
      cursorImg.style.zIndex = "10000";
      cursorImg.style.width = "48px";
      cursorImg.style.height = "48px";
      document.body.style.cursor = "none";
      let normalCursor = "assets/bright-blue-mouse-cursor-hd-png-Cg24Mv.png";
      let pointerCursor = "assets/Adobe Express - file.png"; // Change to your pointer image

      document.addEventListener("mousemove", function (e) {
        cursorImg.style.display = "block";
        cursorImg.style.left = e.clientX - 24 + "px";
        cursorImg.style.top = e.clientY - 24 + "px";
      });
      document.addEventListener("mouseleave", function () {
        cursorImg.style.display = "none";
      });
      document.addEventListener("mouseenter", function () {
        cursorImg.style.display = "block";
      });

      // Change cursor image on hover over clickable elements
      function setPointerCursor() {
        if (cursorImg.src !== window.location.origin + "/" + pointerCursor) {
          cursorImg.src = pointerCursor;
        }
      }
      function setNormalCursor() {
        if (cursorImg.src !== window.location.origin + "/" + normalCursor) {
          cursorImg.src = normalCursor;
        }
      }

      // For all clickable elements
      const clickables = document.querySelectorAll(
        'a, button, [role="button"], input[type="button"], input[type="submit"], .hypno-link'
      );
      clickables.forEach((el) => {
        el.addEventListener("mouseenter", setPointerCursor);
        el.addEventListener("mouseleave", setNormalCursor);
      });

      // Set initial cursor image
      cursorImg.src = normalCursor;

      // Ensure autoplay works and show song title
      const audio = document.getElementById("audio-player");
      audio.volume = 0.7;
      audio.play().catch(() => {});
      // Optionally, update song title dynamically if you want to change tracks
    </script>
  </body>
</html>
